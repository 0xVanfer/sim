<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" type="text/css" href="style/column.css" />
        <link rel="stylesheet" type="text/css" href="style/header.css" />
        <link rel="stylesheet" type="text/css" href="style/param.css" />
        <script src="./src/calc.js"></script>
        <title>Swap Twice</title>
    </head>

    <body>
        <div class="header">Swap Simulation</div>
        <div class="topnav">
            <a href="./index.html" target="_self">Home</a>
            <a href="./swap_twice.html" target="_self">Swap Twice</a>
            <a href="./swap_reverse.html" target="_self">Swap And Reverse</a>
        </div>
        <!-- Left: params. -->
        <div class="column left">
            <form action="" oninput="CalcSeperate()">
                <table>
                    <tr>
                        <td>oracle price 1</td>
                        <td>=</td>
                        <td class="params" id="op1" contenteditable>1</td>
                    </tr>
                    <tr>
                        <td>oracle price 2</td>
                        <td>=</td>
                        <td class="params" id="op2" contenteditable>1</td>
                    </tr>
                    <tr>
                        <td>liability 1</td>
                        <td>=</td>
                        <td class="params" id="lia1" contenteditable>10000</td>
                    </tr>
                    <tr>
                        <td>liability 2</td>
                        <td>=</td>
                        <td class="params" id="lia2" contenteditable>10000</td>
                    </tr>
                    <tr>
                        <td>n</td>
                        <td>=</td>
                        <td class="params" id="n" contenteditable>1</td>
                    </tr>
                    <tr>
                        <td>swap 1 amount(token 1)</td>
                        <td>=</td>
                        <td class="params" id="amount1" contenteditable>0</td>
                    </tr>
                    <tr>
                        <td>swap 2 amount(token 1)</td>
                        <td>=</td>
                        <td class="params" id="amount2" contenteditable>0</td>
                    </tr>
                    <tr>
                        <td>-</td>
                    </tr>
                    <tr>
                        <td>decimals(of the middle column)</td>
                        <td>=</td>
                        <td class="params" id="decimals" contenteditable>3</td>
                    </tr>
                </table>
            </form>
        </div>
        <div class="column middle1">
            <div>Swap 1</div>
            <br />
            <table>
                <tr>
                    <td>cov 1</td>
                    <td>=</td>
                    <td class="variable" id="cov1"></td>
                </tr>
                <tr>
                    <td>cov 2</td>
                    <td>=</td>
                    <td class="variable" id="cov2"></td>
                </tr>
                <tr>
                    <td>rop</td>
                    <td>=</td>
                    <td class="variable" id="rop"></td>
                </tr>
                <tr>
                    <td>rcov</td>
                    <td>=</td>
                    <td class="variable" id="rcov"></td>
                </tr>
                <tr>
                    <td>rpp</td>
                    <td>=</td>
                    <td class="variable" id="rpp"></td>
                </tr>
                <tr>
                    <td>estimate out</td>
                    <td>=</td>
                    <td class="variable" id="estimate-out"></td>
                </tr>
                <tr>
                    <td>price shift</td>
                    <td>=</td>
                    <td class="variable" id="price-shift"></td>
                </tr>
                <tr>
                    <td>-</td>
                </tr>
                <tr>
                    <td>converge</td>
                    <td>=</td>
                    <td class="variable" id="converge"></td>
                </tr>
                <tr>
                    <td>converge times</td>
                    <td>=</td>
                    <td class="variable" id="times"></td>
                </tr>
            </table>
            <hr />
            <div>Swap 2</div>
            <br />
            <table>
                <tr>
                    <td>cov 1</td>
                    <td>=</td>
                    <td class="variable" id="cov1_2"></td>
                </tr>
                <tr>
                    <td>cov 2</td>
                    <td>=</td>
                    <td class="variable" id="cov2_2"></td>
                </tr>
                <tr>
                    <td>rop</td>
                    <td>=</td>
                    <td class="variable" id="rop_2"></td>
                </tr>
                <tr>
                    <td>rcov</td>
                    <td>=</td>
                    <td class="variable" id="rcov_2"></td>
                </tr>
                <tr>
                    <td>rpp</td>
                    <td>=</td>
                    <td class="variable" id="rpp_2"></td>
                </tr>
                <tr>
                    <td>estimate out</td>
                    <td>=</td>
                    <td class="variable" id="estimate-out_2"></td>
                </tr>
                <tr>
                    <td>price shift</td>
                    <td>=</td>
                    <td class="variable" id="price-shift_2"></td>
                </tr>
                <tr>
                    <td>-</td>
                </tr>
                <tr>
                    <td>converge</td>
                    <td>=</td>
                    <td class="variable" id="converge_2"></td>
                </tr>
                <tr>
                    <td>converge times</td>
                    <td>=</td>
                    <td class="variable" id="times_2"></td>
                </tr>
            </table>
            <hr />
            <div>Together</div>
            <br />
            <table>
                <tr>
                    <td>out together</td>
                    <td>=</td>
                    <td class="variable" id="estimate-out_together"></td>
                </tr>
            </table>
        </div>
        <div class="column middle2">
            <div>Two swaps together</div>
            <br />
            <table>
                <tr>
                    <td>cov 1</td>
                    <td>=</td>
                    <td class="variable" id="cov1_to"></td>
                </tr>
                <tr>
                    <td>cov 2</td>
                    <td>=</td>
                    <td class="variable" id="cov2_to"></td>
                </tr>
                <tr>
                    <td>rop</td>
                    <td>=</td>
                    <td class="variable" id="rop_to"></td>
                </tr>
                <tr>
                    <td>rcov</td>
                    <td>=</td>
                    <td class="variable" id="rcov_to"></td>
                </tr>
                <tr>
                    <td>rpp</td>
                    <td>=</td>
                    <td class="variable" id="rpp_to"></td>
                </tr>
                <tr>
                    <td>estimate out</td>
                    <td>=</td>
                    <td class="variable" id="estimate-out_to"></td>
                </tr>
                <tr>
                    <td>price shift</td>
                    <td>=</td>
                    <td class="variable" id="price-shift_to"></td>
                </tr>
                <tr>
                    <td>-</td>
                </tr>
                <tr>
                    <td>converge</td>
                    <td>=</td>
                    <td class="variable" id="converge_to"></td>
                </tr>
                <tr>
                    <td>converge times</td>
                    <td>=</td>
                    <td class="variable" id="times_to"></td>
                </tr>
                <tr>
                    <td>-</td>
                </tr>
                <tr>
                    <td>diff</td>
                    <td>=</td>
                    <td class="variable" id="estimate-out_diff"></td>
                </tr>
            </table>
            <br />
            <div>diff is the difference between two estimate-out.(seperate/together - 1)</div>
        </div>
        <div class="column right">
            <div>
                <div>
                    <p>Swap 1 swaps "amount 1" token 1 to token 2.</p>
                    <p>Swap 2 swaps "amount 2" token 1 to token 2.</p>
                    <p>The second column calculates the result of swaps seperately.</p>
                    <p>The third column calculates the result of doing these in one swap(amount 1 + amount 2).</p>
                    <p>User can profit from doing the swaps seperately.</p>
                </div>
            </div>
        </div>
        <script>
            CalcSeperate();
        </script>
    </body>
</html>
