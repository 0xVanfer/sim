<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" type="text/css" href="style/column.css" />
        <link rel="stylesheet" type="text/css" href="style/header.css" />
        <link rel="stylesheet" type="text/css" href="style/param.css" />
        <script src="./src/common.js"></script>
        <script src="./src/array.js"></script>
        <script src="./src/calcAprs.js"></script>
        <title>Calc</title>
    </head>
    <body>
        <div class="header">Staple Simulation</div>
        <div class="topnav">
            <a href="./index.html" target="_self">Vtp-Fees</a>
            <a href="./apr.html" target="_self">Apr</a>
            <a href="./incentives.html" target="_self">Incentives</a>
        </div>

        <div class="column apr">
            <div class="topic">Page Settings</div>
            <form action="" oninput="CalcAprsInfo()">
                <table>
                    <tr>
                        <td>decimals</td>
                        <td>=</td>
                        <td class="params" id="decimals" contenteditable>2</td>
                    </tr>
                    <tr>
                        <td>timestamp now</td>
                        <td>=</td>
                        <td class="params" id="timestampnow" contenteditable></td>
                    </tr>
                    <tr>
                        <td>time now</td>
                        <td>=</td>
                        <td id="timenow">2023-11-08 13:49:01</td>
                    </tr>
                </table>
            </form>

            <hr>
            <div class="topic">Calc Incentives Apr (each line is seperate from others)</div>
            <form action="" oninput="CalcAprsInfo()">
                <table>
                    <tr>
                        <td>emission / sec</td>
                        <td>|</td>
                        <td>start timestamp</td>
                        <td>|</td>
                        <td>start time</td>
                        <td>|</td>
                        <td>end timestamp</td>
                        <td>|</td>
                        <td>end time</td>
                        <td>|</td>
                        <td>liability</td>
                        <td>|</td>
                        <td>underlying price</td>
                        <td>|</td>
                        <td>incentives price</td>
                        <td>|</td>
                        <td>apr</td>
                    </tr>

                    <tr>
                        <td class="params" id="emission0" contenteditable>0</td>
                        <td>|</td>
                        <td class="params" id="startt0" contenteditable></td>
                        <td>|</td>
                        <td id="start0">2023-11-08 13:49:01</td>
                        <td>|</td>
                        <td class="params" id="endt0" contenteditable></td>
                        <td>|</td>
                        <td id="end0">2023-11-08 13:49:01</td>
                        <td>|</td>
                        <td class="params" id="lia0" contenteditable>0</td>
                        <td>|</td>
                        <td class="params" id="unpr0" contenteditable>1</td>
                        <td>|</td>
                        <td class="params" id="inpr0" contenteditable>1</td>
                        <td>|</td>
                        <td id="apr0">0</td>
                    </tr>

                    <tr>
                        <td class="params" id="emission1" contenteditable>0</td>
                        <td>|</td>
                        <td class="params" id="startt1" contenteditable></td>
                        <td>|</td>
                        <td id="start1">2023-11-08 13:49:01</td>
                        <td>|</td>
                        <td class="params" id="endt1" contenteditable></td>
                        <td>|</td>
                        <td id="end1">2023-11-08 13:49:01</td>
                        <td>|</td>
                        <td class="params" id="lia1" contenteditable>0</td>
                        <td>|</td>
                        <td class="params" id="unpr1" contenteditable>1</td>
                        <td>|</td>
                        <td class="params" id="inpr1" contenteditable>1</td>
                        <td>|</td>
                        <td id="apr1">0</td>
                    </tr>

                    <tr>
                        <td class="params" id="emission2" contenteditable>0</td>
                        <td>|</td>
                        <td class="params" id="startt2" contenteditable></td>
                        <td>|</td>
                        <td id="start2">2023-11-08 13:49:01</td>
                        <td>|</td>
                        <td class="params" id="endt2" contenteditable></td>
                        <td>|</td>
                        <td id="end2">2023-11-08 13:49:01</td>
                        <td>|</td>
                        <td class="params" id="lia2" contenteditable>0</td>
                        <td>|</td>
                        <td class="params" id="unpr2" contenteditable>1</td>
                        <td>|</td>
                        <td class="params" id="inpr2" contenteditable>1</td>
                        <td>|</td>
                        <td id="apr2">0</td>
                    </tr>
                </table>
            </form>

            <hr>

            <div class="topic">Calc Best Pool Apr</div>
            <form action="" oninput="CalcAprsInfo()">
                <table>
                    <tr>
                        <td>vtpID</td>
                        <td>|</td>
                        <td>maxAllocateRate</td>
                        <td></td>
                        <td>|</td>
                        <td>credit</td>
                        <td>|</td>
                        <td>apr</td>
                        <td></td>
                        <td>|</td>
                        <td>allocate rate</td>
                        <td>|</td>
                        <td>provided apr</td>
                    </tr>

                    <tr>
                        <td class="params" contenteditable>0</td>
                        <td>|</td>
                        <td class="params" id="mar0" contenteditable>90</td>
                        <td>%</td>
                        <td>|</td>
                        <td class="params" id="credit0" contenteditable>26</td>
                        <td>|</td>
                        <td class="params" id="aprmax0" contenteditable></td>
                        <td>%</td>
                        <td>|</td>
                        <td id="allorate0">0</td>
                        <td>|</td>
                        <td id="aprprov0">0</td>
                    </tr>

                    <tr>
                        <td class="params" contenteditable>1</td>
                        <td>|</td>
                        <td class="params" id="mar1" contenteditable>90</td>
                        <td>%</td>
                        <td>|</td>
                        <td class="params" id="credit1" contenteditable>26</td>
                        <td>|</td>
                        <td class="params" id="aprmax1" contenteditable></td>
                        <td>%</td>
                        <td>|</td>
                        <td id="allorate1">0</td>
                        <td>|</td>
                        <td id="aprprov1">0</td>
                    </tr>

                    <tr>
                        <td class="params" contenteditable>2</td>
                        <td>|</td>
                        <td class="params" id="mar2" contenteditable>90</td>
                        <td>%</td>
                        <td>|</td>
                        <td class="params" id="credit2" contenteditable>26</td>
                        <td>|</td>
                        <td class="params" id="aprmax2" contenteditable></td>
                        <td>%</td>
                        <td>|</td>
                        <td id="allorate2">0</td>
                        <td>|</td>
                        <td id="aprprov2">0</td>
                    </tr>

                    <tr>
                        <td class="params" contenteditable>3</td>
                        <td>|</td>
                        <td class="params" id="mar3" contenteditable>90</td>
                        <td>%</td>
                        <td>|</td>
                        <td class="params" id="credit3" contenteditable>26</td>
                        <td>|</td>
                        <td class="params" id="aprmax3" contenteditable></td>
                        <td>%</td>
                        <td>|</td>
                        <td id="allorate3">0</td>
                        <td>|</td>
                        <td id="aprprov3">0</td>
                    </tr>

                    <tr>
                        <td class="params" contenteditable>4</td>
                        <td>|</td>
                        <td class="params" id="mar4" contenteditable>90</td>
                        <td>%</td>
                        <td>|</td>
                        <td class="params" id="credit4" contenteditable>26</td>
                        <td>|</td>
                        <td class="params" id="aprmax4" contenteditable></td>
                        <td>%</td>
                        <td>|</td>
                        <td id="allorate4">0</td>
                        <td>|</td>
                        <td id="aprprov4">0</td>
                    </tr>

                </table>
            </form>

            <br>

            <form action="" oninput="CalcAprsInfo()">
                <table>
                    <tr>
                        <td>total credits</td>
                        <td>=</td>
                        <td class="params" id="totalcredits" contenteditable>100</td>
                    </tr>
                    <tr>
                        <td>best apr</td>
                        <td>=</td>
                        <td id="bestapr">100%</td>
                    </tr>
                </table>
            </form>
        </div>


        <div class="column error">
            <div>
                <div class="topic">Error</div>
                <form action="">
                    <table>
                        <tr>
                            <td id="error">failed</td>
                        </tr>
                    </table>
                </form>
            </div>
        </div>

        <script>
            CalcAprsInfo();
        </script>
    </body>

    


</html>